<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.3 at Apr 14, 2014 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>HPSC LOG-VIEW - </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20140414" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                HPSC LOG-VIEW
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
            
                <div class="xleft">
        <span id="publishDate">Last Published: 2014-04-14</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0.1-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="${project.url}" title="HPSC LOG-VIEW">HPSC LOG-VIEW</a>
              
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
            
                                <h5>Parent Project</h5>
                  <ul>
                  <li class="none">
                          <a href="../../../log-monitor-pom/1.0.1-SNAPSHOT/index.html" title="HPSC LOG MONITOR POM">HPSC LOG MONITOR POM</a>
            </li>
          </ul>
                       <h5>Modules</h5>
                  <ul>
                  <li class="none">
                          <a href="../../../log-view-app/1.0.1-SNAPSHOT/log-view/log-view-app/index.html" title="HPSC LOG-VIEW WEB APPLICATION">HPSC LOG-VIEW WEB APPLICATION</a>
            </li>
                  <li class="none">
                          <a href="../../../log-view-client/1.0.1-SNAPSHOT/log-view/log-view-client/index.html" title="HPSC LOG-VIEW CLIENT">HPSC LOG-VIEW CLIENT</a>
            </li>
                  <li class="none">
                          <a href="../../../log-view-apache/1.0.1-SNAPSHOT/log-view/log-view-apache/index.html" title="HPSC LOG-VIEW APACHE CONFIGURATION">HPSC LOG-VIEW APACHE CONFIGURATION</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                      <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
            
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <h1>Install log-view</h1><div class="section"><h2>Consumer, Producer or Web Application<a name="Consumer_Producer_or_Web_Application"></a></h2><div class="section"><h3>Download the log-view.war<a name="Download_the_log-view.war"></a></h3>
<div class="source"><pre>/usr/bin/wget &quot;http://repo1.corp.hp.com/nexus/service/local/artifact/maven/redirect?r=releases&amp;g=com.hp.hpsc.log-monitor&amp;a=log-view-app&amp;v=LATEST&amp;e=war&quot; -O log-view.war
</pre></div></div><div class="section"><h3>Install<a name="Install"></a></h3><p>Install at the weblogic console.</p></div><div class="section"><h3>Configuration (Optional)<a name="Configuration_Optional"></a></h3><div class="section"><h4>Load log file locations from System properties<a name="Load_log_file_locations_from_System_properties"></a></h4><p>Usually we dont need to config anything. We use the system parameter to locate the log file location. See the logview/java_env.properties</p>
<div class="source"><pre>param.1=appserver.home.dir
param.2=LOG_ROOT
param.3=log_dir
param.4=com.vignette.portal.installdir.path
</pre></div></div><div class="section"><h4>Load log file locations from other folders<a name="Load_log_file_locations_from_other_folders"></a></h4><p>We can add the customized log location at global_resource/logview/log_path.properties. Like:</p>
<div class="source"><pre>log.link.1=/opt/sasuapps
log.link.2=/opt/sasuapps/itrc/vignetteSPFA
</pre></div></div></div><div class="section"><h3>Verify<a name="Verify"></a></h3>
<ul>
  <li>Open the browser to visit the log-view application. (<b>Should visit the server name with port, not the loadbalance location</b>) Like <a class="externalLink" href="http://c0007614.itcs.hp.com:50002/log-view">http://c0007614.itcs.hp.com:50002/log-view</a></li>
  <li>logged in with email/password. The user need to be under hpsc-log-view group. Ask Feng or Tristan if you logged in failed.</li>
  <li>In the home page, check whether we can download log file.</li>
</ul></div></div><div class="section"><h2>Http Server (Apache)<a name="Http_Server_Apache"></a></h2><div class="section"><h3>Download apache configuration files<a name="Download_apache_configuration_files"></a></h3>
<div class="source"><pre>cd /opt/webhost/local/spdepot
/usr/bin/wget &quot;http://repo1.corp.hp.com/nexus/service/local/artifact/maven/redirect?r=releases&amp;g=com.hp.hpsc.log-monitor&amp;a=log-view-apache&amp;v=LATEST&amp;e=tar&quot; -O log-view-apache.tar
</pre></div></div><div class="section"><h3>Install<a name="Install"></a></h3><div class="section"><h4>Extract log-view-apache files<a name="Extract_log-view-apache_files"></a></h4>
<div class="source"><pre># Login as application account (itrc), and set default file permission
umask 022

cd /opt/webhost/local/WHA-COMMON/apache/conf
tar xvf /opt/webhost/local/spdepot/log-view-apache.tar
</pre></div></div><div class="section"><h4>Integrate log-view web configuration (Only for First Setup)<a name="Integrate_log-view_web_configuration_Only_for_First_Setup"></a></h4>
<div class="source"><pre># Update /opt/webhost/local/WHA-COMMON/apache/conf/httpd.conf
vi /opt/webhost/local/WHA-COMMON/apache/conf/httpd.conf

# Include log-view configuration
Include /opt/webhost/local/WHA-COMMON/apache/conf/log-view.conf
# End of log-view configuration
# Save the change
</pre></div></div><div class="section"><h4>Restart all apache instances<a name="Restart_all_apache_instances"></a></h4>
<div class="source"><pre>/opt/webhost/whaeng/bin/restart_apache WHA-HPP-ANON
/opt/webhost/whaeng/bin/restart_apache WHA-HPP-AUTH
/opt/webhost/whaeng/bin/restart_apache WHA-ATHP-AUTH
/opt/webhost/whaeng/bin/restart_apache WHA-ATHP-ANON
</pre></div></div></div><div class="section"><h3>Verify<a name="Verify"></a></h3>
<ul>
  <li>Open the browser to visit log-view. (<b>Should visit the server name with port, not the loadbalance location</b>) Like <a class="externalLink" href="http://c0007614.itcs.hp.com:1480/log-view/">http://c0007614.itcs.hp.com:1480/log-view/</a> (NOTE: May require web proxy.)</li>
  <li>check whether we can download log file.</li>
</ul></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2014.
          All Rights Reserved.      
            
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
